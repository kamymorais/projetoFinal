<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-4bw+/aepP/YC94hEpVNVgiZdgIC5+VKNBQNGCHeKRQN+PtmoHDEXuppvnDJzQIu9" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css">
    <link rel="stylesheet" th:href="@{CSS\style.css}">
    <title>Página Inicial</title>

</head>
<body id="test1">
    <header>
            <div class="cabecalho">
                    <img src="image/guitarrista.png" alt="">
                    <h4 class="song"> This Song </h4>  
                
            </div>
        
    </header>
    

<div class="container">
<div class="container bts">


    
    <div class="container-content">
        <p>VIDAS:</p>
        <i class="bi bi-heart-fill content-coracao" ></i>
        <span id="pontuacao" class="content-pontuacao">
    </div>    



    <div class="container-tristana">
        <div class="imagem">
        <img src="https://68.media.tumblr.com/f1ca074f21545ed37217f004d3fd403d/tumblr_ny9jtmhnpm1s0adc8o1_r1_1280.gif" alt="">
        </div>
    </div>
</div>

    <div id="card" class="container buttons" th:each="produto : ${produtos}" th:object="${produto}" method="POST" >
            <div>
                <audio autoplay>
                    <source class="tocador" th:src="@{${produto.urlMusic}}" type="audio/mp4"></source>
                </audio>          
            </div>
    
        <div class="row content-botoes" > 
        
            <div class="col-md-1">
                <button id="1" onClick="checagem()" th:value="${produto.music1}" class="btn btn-outline-info bts-1"><span th:text="${produto.music1}"></span></button>
                <button id="2" onClick="checagem2()" th:value="${produto.music2}" class="btn btn-outline-info"><span th:text="${produto.music2}"></span></button>  
            </div>

            <div class="col-md-1">
                <button id="3" onClick="checagem3()" th:value="${produto.music3}" class="btn btn-outline-info bts-1"><span th:text="${produto.music3}"></span></button>
                <button id="4" onClick="checagem4()" th:value="${produto.music4}" class="btn btn-outline-info"><span th:text="${produto.music4}"></span></button>
                <input id="valorDoInput" th:value="${produto.nomeMusic}"></input>
            </div>    
        </div>             
    </div>
</div>
       

    
  
    

    
  <script src="https://code.jquery.com/jquery-3.7.0.min.js" integrity="sha256-2Pmvv0kuTBOenSvLm6bvfBSSHrUJ+3A7x6P5Ebd07/g=" crossorigin="anonymous"></script>
  
    <script type="text/javascript">

            
            var time = 12000; //7 segundos,

            
           var intervalo = setInterval(function() { $('#card').load(' #card'); },     time);
        
            var pontos = 3;
            span = document.getElementById("pontuacao").textContent = pontos;


            var botao = "";
            var certa = "";
            
            function checagem (){

                    certa = document.getElementById('valorDoInput').value;
                    botao = document.getElementById('1').value; // Javascript

                        if(certa == botao ){
                            pontos++;
                            document.getElementById("pontuacao").textContent = pontos;

                            var reset =  $("#card").load(' #card');
                                
                            
                            console.log("Você acertou!")
                        } else{
                            pontos = pontos - 1;
                            document.getElementById("pontuacao").textContent = pontos;
                            console.log("Você fracassou!")
                            if(pontos == 0 ){
                                alert("Você perdeu!")
                            }
                            
                            var reset =  $("#card").load(' #card');
                        }      
                        
                    }

            function checagem2 (){
                certa = document.getElementById('valorDoInput').value;
                botao = document.getElementById('2').value; // Javascript

                        if(certa == botao){
                            pontos++;
                            document.getElementById("pontuacao").textContent = pontos;
                          
                            var reset = $("#card").load(' #card');
                                
                            
                        } else{
                            pontos = pontos - 1;
                            document.getElementById("pontuacao").textContent = pontos;
                            console.log("Você fracassou!")
                            if(pontos == 0 ){
                                alert("Você perdeu!")
                            }

                            var reset =  $("#card").load(' #card');
                        }       
            }

            function checagem3 (){
                certa = document.getElementById('valorDoInput').value;
                botao = document.getElementById('3').value; // Javascript
                        if(certa == botao){
                            pontos++;
                            document.getElementById("pontuacao").textContent = pontos;
                          
                            var reset =  $("#card").load(' #card');
                                

                        } else{
                            pontos = pontos - 1;
                            document.getElementById("pontuacao").textContent = pontos;
                            console.log("Você fracassou!")
                            if(pontos == 0 ){
                                alert("Você perdeu!")
                            }

                            var reset =  $("#card").load(' #card');
                        }     
            }

            function checagem4 (){
                certa = document.getElementById('valorDoInput').value;
                botao = document.getElementById('4').value; // Javascript
                        if(certa == botao){
                            pontos++;
                            document.getElementById("pontuacao").textContent = pontos;      
                                     
                            var reset = $("#card").load(' #card');
                               
                            
                        } else{
                            pontos = pontos - 1;
                            document.getElementById("pontuacao").textContent = pontos;
                            console.log("Você fracassou!")
                            if(pontos == 0 ){
                                alert("Você perdeu!")
                            }

                            var reset =  $("#card").load(' #card');
                        }       
            }

            if(pontos == 0 ){
                alert("Você perdeu!")
            }

        </script>

    
</body>
</html>

